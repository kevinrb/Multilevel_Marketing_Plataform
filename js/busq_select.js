/*jonathandeoz14*/
$(document).on("click",".resb",function(){var s=$(this),e=s.attr("inf"),r=s.text(),i=$(this).parent().parent(),o=i.find(".inpb"),n=i.find(".objb").children(),t=i.find(".objr");o.val(r), n.children().attr("selected",false); n.find("option[value='"+e+"']").attr("selected",true).trigger("change"),t.html("").hide()}),$(document).on("focus",".inpb",function(){$(this).val("");});$(document).on("focusout",".inpb",function(){var txt = $(this).parent().find("select").find(":selected").text();$(this).val(txt);});$(document).on("mouseover",".resb",function(){$(".resb").removeClass("ress").css("background-color","#FFFFFF"),$(this).addClass("ress").css("background-color","#00CC66")}),$(document).on("mouseout",".resb",function(){$(this).removeClass("ress").css("background-color","#FFFFFF")}),$.fn.busc=function(s){var e=s.limit,r=$(this),o=r.clone(),n=[],v=r.find("option:selected").text();var x=r.find("option:selected").val();htmb="",o.children().each(function(){var s=$(this).attr("value"),e=$(this).text().toUpperCase();n.push([s,e]),htmb+="<div inf='"+s+"' class='resb' style='width:100%; word-wrap: break-word; cursor:default;'>"+e+"</div>"});var t=n.length;r.replaceWith("<div class='contb' style='position:relative;'><input type='text' class='form-control input-sm inpb' placeholder='Buscar...' value='"+v+"'/><div class='objb col-xs-12' style='display:none;'></div><div class='objr form-control' style='border-top:0px; display:none; position:absolute; z-index:20; pading:0px;'></div></div>");var a=$($(".objb")[$(".objb").length-1]);a.append(o);o.val(x);var c=a.parent().find(".inpb"),l=(a.parent().find(".btnb"),a.parent().find(".objr"));c.on("focus",function(){$(this).trigger("keydown")}),c.on("focusout",function(){setTimeout(function(){l.html("").hide()},500)});var d=setTimeout(function(){},100);c.on("keydown",function(s){var r=s.keyCode;if(13==r||38==r||40==r){if(13==r&&l.find(".ress").length>0&&l.find(".ress").trigger("click"),40==r)if(l.find(".ress").length>0){var o=l.find(".resb"),a=l.find(".ress"),h=o.index(a);if(o.removeClass("ress").css("background-color","#FFFFFF"),h==o.length-1)f=0;else var f=h+1;$(l.find(".resb")[f]).addClass("ress").css("background-color","#00CC66");var v=0,b=0,u=parseInt(l.css("height"));if(l.children(".resb").each(function(){return v+=parseInt($(this).css("height")),f==b?!1:void b++}),u>v)var p=0;else var p=v-u+10;l[0].scrollTop=p}else $(l.find(".resb")[0]).addClass("ress").css("background-color","#00CC66");if(38==r)if(l.find(".ress").length>0){var o=l.find(".resb"),a=l.find(".ress"),h=o.index(a);if(o.removeClass("ress").css("background-color","#FFFFFF"),0==h)f=o.length-1;else var f=h-1;$(l.find(".resb")[f]).addClass("ress").css("background-color","#00CC66");var v=0,b=0,u=parseInt(l.css("height"));if(l.children(".resb").each(function(){return v+=parseInt($(this).css("height")),f==b?!1:void b++}),u>v)var p=0;else var p=v-15;l[0].scrollTop=p}else{var g=l.find(".resb");$(g[g.length-1]).addClass("ress").css("background-color","#00CC66");var v=0,u=parseInt(l.css("height"));if(g.each(function(){v+=parseInt($(this).css("height"))}),u>v)var p=0;else var p=v;l[0].scrollTop=p}}else clearTimeout(d),setTimeout(function(){$(".objr").html("").hide(),l.show();var s="",r=c.val().toUpperCase();if(""!=r.trim()){var o=0;for(i=0;i<t;i++){var a=n[i][0],d=n[i][1];(-1!=a.indexOf(r)||-1!=d.indexOf(r))&&(s+="<div inf='"+a+"' class='resb' style='width:100%; word-wrap: break-word; cursor:default;'>"+d+"</div>",o++)}}else{var o=t;s+=htmb}l.html(s);var h=0,f=0;l.children(".resb").each(function(){return h+=parseInt($(this).css("height")),e==f?!1:void f++}),l.css("height",h+10+"px"),l.css("overflow-y","scroll"),e>=o&&l.css("overflow-y",""),l[0].scrollTop=0,0==o&&l.html("").hide()},250)})};